# Cash Flow Strength Performance Framework (Extended with CapEx)

### Purpose
Evaluates how effectively a company converts accounting profits into **real cash generation**, reflecting the *quality and sustainability* of earnings.

This framework focuses on four cash-based indicators:

1. **Operating Cash Flow (OCF)** → *Core cash generation* from business operations.  
2. **Capital Expenditures (CapEx)** → *Reinvestment intensity* in fixed assets.  
3. **Free Cash Flow (FCF)** → *Residual cash* available after capital expenditures.  
4. **FCF Margin** → *Cash profitability ratio* — efficiency of converting revenue into free cash.

Each dimension follows the same structure — **Growth → Stability → Acceleration → Composite Score** — ensuring cross-pillar consistency with Profitability and Efficiency frameworks.

---

## 1️⃣ Growth Logic

### Purpose
Measures the trajectory of cash generation and reinvestment, identifying whether operational cash inflows and outflows are expanding, stable, or deteriorating.

### Key Metrics & Formulas

| **Metric Type** | **Core Growth Formula** | **Interpretation** |
|------------------|------------------------|--------------------|
| **OCF Growth** | `(ocf_t / ocf_{t−4}) − 1` | Measures YoY growth in cash generated by operations. |
| **CapEx Growth** | `(capex_t / capex_{t−4}) − 1` | Tracks changes in capital investment spending intensity. |
| **FCF Growth** | `(fcf_t / fcf_{t−4}) − 1` | Captures improvement in free cash after reinvestment. |
| **FCF Margin Change** | `fcf_margin_t − fcf_margin_{t−4}` | Indicates improvement in cash profit per revenue dollar. |

### Interpretation Logic

| **YoY Growth (%)** | **Regime** | **Meaning** |
|---------------------|------------|--------------|
| ≥ 30% | **Very strong growth** | Exceptional expansion in cash generation or reinvestment. |
| 10% – 30% | **Strong growth** | Robust and sustainable improvement in cash inflows. |
| 0% – 10% | **Modest growth** | Gradual improvement; steady quality. |
| −10% – 0% | **Mild decline** | Temporary dip or investment cycle. |
| < −10% | **Sharp decline** | Deterioration or cash flow stress. |

---

## 2️⃣ Stability Logic

### Purpose
Assesses the consistency of cash generation and reinvestment. Stable OCF and FCF reflect high earnings quality; volatile CapEx or margins may indicate uneven spending or cyclical behavior.

### Key Metrics & Formulas

| **Metric Type** | **Volatility Measure** | **Stability Threshold** |
|------------------|------------------------|--------------------------|
| **OCF** | `STDDEV(ocf_yoy_pct, 4Q)` | Stable if < 0.10 (10 pp). |
| **CapEx** | `STDDEV(capex_yoy_pct, 4Q)` | Stable if < 0.15 (15 pp). |
| **FCF** | `STDDEV(fcf_yoy_pct, 4Q)` | Stable if < 0.15 (15 pp). |
| **FCF Margin** | `STDDEV(fcf_margin, 4Q)` | Stable if < 0.05 (5 pp). |

### Interpretation Logic

| **volatility_4q** | **stable_noise_flag** | **Regime** | **Meaning** |
|--------------------|-----------------------|-------------|--------------|
| < threshold | True or False | **Stable** | Predictable cash flow or spending — strong quality. |
| ≥ threshold | True | **Stable (noise)** | Minor fluctuations within tolerance. |
| ≥ threshold | False | **Volatile** | Irregular cash or CapEx patterns — low predictability. |

---

## 3️⃣ Acceleration Logic (Stability-Aware)

### Purpose
Identifies whether cash generation or reinvestment activity is strengthening, stabilizing, or weakening — incorporating a noise filter for quarterly variability.

### Key Metrics & Formulas

| **Metric Type** | **ΔYoY Formula** | **Noise Band Formula** | **Interpretation** |
|------------------|------------------|--------------------------|--------------------|
| **OCF** | `ΔYoY = ocf_yoy_pct_t − ocf_yoy_pct_{t−1}` | `noise_band = max(0.005, 0.5 × ocf_volatility_4q)` | Captures change in operational cash generation trend. |
| **CapEx** | `ΔYoY = capex_yoy_pct_t − capex_yoy_pct_{t−1}` | `noise_band = max(0.010, 0.5 × capex_volatility_4q)` | Measures change in reinvestment activity or capital intensity. |
| **FCF** | `ΔYoY = fcf_yoy_pct_t − fcf_yoy_pct_{t−1}` | `noise_band = max(0.007, 0.5 × fcf_volatility_4q)` | Reflects change in cash available after reinvestment. |
| **FCF Margin** | `ΔYoY = fcf_margin_t − fcf_margin_t_{t−1}` | `noise_band = max(0.004, 0.5 × fcf_margin_volatility_4q)` | Evaluates cash efficiency relative to revenue. |

### Interpretation Logic

| **accel_vs_last_year** | **accel_count_4q** | **stable_noise_flag** | **Regime** | **Meaning** |
|-------------------------|--------------------|------------------------|-------------|--------------|
| True | ≥ 3 | False | **Strong acceleration** | Sustained improvement in cash or CapEx momentum. |
| True | 1–2 | False | **Post-peak deceleration** | Growth continuing but slowing. |
| True or False | any | True | **Stable (noise)** | Within tolerance — consistent trend. |
| False | any | False | **Weak / Declining** | Cash or CapEx momentum deteriorating. |

---

## 4️⃣ Cash Flow Composite Scoring Framework

### Purpose
Aggregates OCF, CapEx, FCF, and FCF Margin into a unified **Cash Flow Quality Score (0–10)** for cross-firm comparability and AI-agent reasoning.

### Subscores

| **Dimension** | **Input Metric** | **Score Scale (0–10)** | **Weight (wᵢ)** | **Insight** |
|----------------|------------------|------------------------|------------------|-------------|
| **OCF** | `ocf_yoy_pct` | `ocf_score = clip((ocf_yoy_pct × 100) / 4, 0, 10)` | **0.3** | Core operating cash strength. |
| **CapEx Efficiency** | `1 − (CapEx / OCF)` | `capex_score = clip((1 − CapEx/OCF) × 10, 0, 10)` | **0.2** | Efficiency of reinvestment usage. |
| **FCF** | `fcf_yoy_pct` | `fcf_score = clip((fcf_yoy_pct × 100) / 4, 0, 10)` | **0.3** | Residual cash after reinvestment. |
| **FCF Margin** | `fcf_margin_change_pp` | `margin_score = clip((fcf_margin_change_pp × 200), 0, 10)` | **0.2** | Cash profitability per revenue dollar. |

### Composite Formula

\[
\text{CashFlow\_Score}_{0–10} =
(0.3 × ocf\_score) +
(0.2 × capex\_score) +
(0.3 × fcf\_score) +
(0.2 × margin\_score)
\]

### Interpretation Guide

| **Score Range** | **Overall View** | **Analyst / AI Insight** |
|------------------|------------------|--------------------------|
| **8 – 10** | Excellent | Strong and accelerating cash generation; efficient reinvestment. |
| **6 – 8** | Good | Healthy cash flows; stable CapEx and conversion quality. |
| **4 – 6** | Neutral | Moderate cash flow quality; balanced but unremarkable. |
| **2 – 4** | Weak | Inconsistent cash conversion or overinvestment risk. |
| **0 – 2** | Poor | Negative FCF or excessive CapEx — potential financial strain. |

